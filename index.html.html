<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>🌈 Aprende Inglés Básico</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: system-ui, sans-serif; }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-purple-400 via-pink-400 to-blue-400">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    function App() {
      const [selectedCategory, setSelectedCategory] = useState("colors");
      const [speaking, setSpeaking] = useState(null);
      const [visitCount, setVisitCount] = useState(0);
      const [loading, setLoading] = useState(true);

      useEffect(() => {
        const savedCount = localStorage.getItem('visitCount');
        if (savedCount) {
          setVisitCount(parseInt(savedCount) + 1);
          localStorage.setItem('visitCount', (parseInt(savedCount) + 1).toString());
        } else {
          setVisitCount(1);
          localStorage.setItem('visitCount', '1');
        }
        setLoading(false);
      }, []);

      const vocabulary = {
        colors: [
          { english: "Red", spanish: "Rojo", color: "bg-red-500", pronunciation: "red" },
          { english: "Orange", spanish: "Naranja", color: "bg-orange-500", pronunciation: "or-inj" },
          { english: "Yellow", spanish: "Amarillo", color: "bg-yellow-500", pronunciation: "yel-oh" },
          { english: "Green", spanish: "Verde", color: "bg-green-500", pronunciation: "green" },
          { english: "Blue", spanish: "Azul", color: "bg-blue-500", pronunciation: "bloo" },
          { english: "Indigo", spanish: "Índigo", color: "bg-indigo-500", pronunciation: "in-di-go" },
          { english: "Violet", spanish: "Violeta", color: "bg-purple-500", pronunciation: "vy-uh-let" },
        ],
        numbers: [
          { english: "One", spanish: "Uno", color: "bg-pink-500", pronunciation: "wun" },
          { english: "Two", spanish: "Dos", color: "bg-red-500", pronunciation: "too" },
          { english: "Three", spanish: "Tres", color: "bg-orange-500", pronunciation: "three" },
          { english: "Four", spanish: "Cuatro", color: "bg-yellow-500", pronunciation: "for" },
          { english: "Five", spanish: "Cinco", color: "bg-green-500", pronunciation: "fiv" },
          { english: "Six", spanish: "Seis", color: "bg-blue-500", pronunciation: "siks" },
          { english: "Seven", spanish: "Siete", color: "bg-indigo-500", pronunciation: "sev-en" },
          { english: "Eight", spanish: "Ocho", color: "bg-purple-500", pronunciation: "eit" },
          { english: "Nine", spanish: "Nueve", color: "bg-pink-500", pronunciation: "nain" },
          { english: "Ten", spanish: "Diez", color: "bg-red-500", pronunciation: "ten" },
        ],
        animals: [
          { english: "Dog", spanish: "Perro", color: "bg-yellow-500", pronunciation: "dog" },
          { english: "Cat", spanish: "Gato", color: "bg-orange-500", pronunciation: "kat" },
          { english: "Bird", spanish: "Pájaro", color: "bg-blue-500", pronunciation: "berd" },
          { english: "Fish", spanish: "Pez", color: "bg-indigo-500", pronunciation: "fish" },
          { english: "Horse", spanish: "Caballo", color: "bg-amber-700", pronunciation: "hors" },
          { english: "Cow", spanish: "Vaca", color: "bg-gray-200 text-gray-800", pronunciation: "kau" },
          { english: "Rabbit", spanish: "Conejo", color: "bg-gray-100 text-gray-800", pronunciation: "ra-bit" },
        ],
        food: [
          { english: "Apple", spanish: "Manzana", color: "bg-red-500", pronunciation: "a-pul" },
          { english: "Banana", spanish: "Plátano", color: "bg-yellow-500", pronunciation: "buh-na-nuh" },
          { english: "Bread", spanish: "Pan", color: "bg-amber-600", pronunciation: "bred" },
          { english: "Milk", spanish: "Leche", color: "bg-white text-gray-800 border border-gray-300", pronunciation: "milk" },
          { english: "Water", spanish: "Agua", color: "bg-cyan-400", pronunciation: "wo-ter" },
          { english: "Cheese", spanish: "Queso", color: "bg-yellow-300 text-gray-800", pronunciation: "chiz" },
          { english: "Egg", spanish: "Huevo", color: "bg-amber-100 text-gray-800 border border-amber-300", pronunciation: "eg" },
        ],
      };

      const categories = [
        { id: "colors", name: "Colores", icon: "🌈" },
        { id: "numbers", name: "Números", icon: "🔢" },
        { id: "animals", name: "Animales", icon: "🐶" },
        { id: "food", name: "Comida", icon: "🍎" },
      ];

      const speakWord = (word, index) => {
        if ('speechSynthesis' in window) {
          setSpeaking(index);
          const utterance = new SpeechSynthesisUtterance(word);
          utterance.lang = 'en-US';
          utterance.rate = 0.9;
          utterance.onend = () => setSpeaking(null);
          speechSynthesis.speak(utterance);
        } else {
          alert("Tu navegador no soporta la función de pronunciación.");
        }
      };

      const AdPlaceholder = ({ position }) => {
        return (
          <div className="bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-4 mx-4 my-4 text-center">
            <div className="text-sm text-gray-500 mb-2">Espacio para anuncios</div>
            <div className="text-xs text-gray-400">{position}</div>
          </div>
        );
      };

      return (
        <div>
          {/* Visit Counter */}
          <div className="fixed top-4 right-4 bg-white bg-opacity-90 backdrop-blur-sm rounded-full px-4 py-2 shadow-lg z-50">
            <div className="flex items-center">
              <svg className="w-5 h-5 mr-2 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path>
                <path fillRule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clipRule="evenodd"></path>
              </svg>
              {loading ? (
                <span className="text-purple-600">Cargando...</span>
              ) : (
                <span className="font-bold text-purple-600">Visitas: {visitCount.toLocaleString()}</span>
              )}
            </div>
          </div>

          {/* Header */}
          <header className="bg-white bg-opacity-20 backdrop-blur-md shadow-lg">
            <div className="container mx-auto px-4 py-6">
              <h1 className="text-4xl md:text-5xl font-bold text-center text-white drop-shadow-lg">
                🌈 Aprende Inglés Básico
              </h1>
              <p className="text-xl text-center text-white mt-2 drop-shadow">
                ¡Diviértete aprendiendo con los colores del arcoíris y escucha la pronunciación!
              </p>
            </div>
          </header>

          {/* Navigation */}
          <nav className="container mx-auto px-4 py-8">
            <div className="flex flex-wrap justify-center gap-4">
              {categories.map((category) => (
                <button
                  key={category.id}
                  onClick={() => setSelectedCategory(category.id)}
                  className={`px-6 py-3 rounded-full font-semibold text-lg transition-all duration-300 transform hover:scale-105 ${
                    selectedCategory === category.id
                      ? "bg-white text-purple-700 shadow-lg"
                      : "bg-white bg-opacity-70 text-gray-800 hover:bg-opacity-100"
                  }`}
                >
                  <span className="mr-2">{category.icon}</span>
                  {category.name}
                </button>
              ))}
            </div>
          </nav>

          {/* Main Content */}
          <main className="container mx-auto px-4 pb-12">
            <AdPlaceholder position="Anuncio de contenido" />
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
              {vocabulary[selectedCategory].map((item, index) => (
                <div
                  key={index}
                  className={`${item.color} rounded-xl p-6 text-center shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl relative`}
                >
                  <div className="text-3xl font-bold mb-1 text-white">{item.english}</div>
                  <div className="text-lg opacity-90 text-white mb-2">{item.spanish}</div>
                  <div className="text-sm italic opacity-80 text-white mb-3">/{item.pronunciation}/</div>
                  <button
                    onClick={() => speakWord(item.english, index)}
                    disabled={speaking === index}
                    className="bg-white bg-opacity-30 hover:bg-opacity-50 text-white font-bold py-2 px-4 rounded-full transition-all duration-300 flex items-center justify-center mx-auto mt-2"
                  >
                    {speaking === index ? (
                      <>
                        <svg className="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                          <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
                          <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                        Hablando...
                      </>
                    ) : (
                      <>
                        <svg className="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                          <path fillRule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.824l-5-4a1 1 0 01-.383-.824V8.176a1 1 0 01.383-.824l5-4z" clipRule="evenodd"></path>
                          <path d="M14 6.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm0 7a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"></path>
                        </svg>
                        Escuchar
                      </>
                    )}
                  </button>
                  {selectedCategory === "colors" && (
                    <div className="w-full h-8 rounded mt-4 bg-current"></div>
                  )}
                </div>
              ))}
            </div>
          </main>

          {/* Footer */}
          <footer className="bg-white bg-opacity-20 backdrop-blur-md py-6">
            <div className="container mx-auto px-4 text-center text-white">
              <p className="text-lg">¡Sigue practicando y verás cómo mejoras tu inglés cada día! 🌟</p>
              <div className="flex justify-center mt-4 space-x-4">
                {["red", "orange", "yellow", "green", "blue", "indigo", "violet"].map((color, index) => (
                  <div key={index} className={`w-6 h-6 rounded-full bg-${color}-500`}></div>
                ))}
              </div>
              <div className="mt-4 text-xs text-white opacity-75">
                © {new Date().getFullYear()} Aprende Inglés Básico
              </div>
            </div>
          </footer>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>